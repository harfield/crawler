#sql
fetchCrawlJobsSql=select * from crawl_job where crawlJobStat in (0,2)
fetchFieldExtractRulesSql=select * from field_extract_rule where fieldExtractRuleCrawlJobId=? order by fieldExtractRuleName asc,fieldExtractRuleOrder asc
updateCrawlAttemptStatusByIdAndVersionSql=update crawl_attempt set crawlAttemptVersion=crawlAttemptVersion+1,crawlAttemptCrawlUpdateTime=now(),crawlAttemptSendMqTime=?,crawlAttemptLastCrawlTime=?,crawlAttemptNextCrawlTime=?,crawlAttemptCrawlTimes=?,crawlAttemptStat=?,crawlAttemptRemark=? where crawlAttemptId=? and crawlAttemptVersion=?
fetchCrawlAttemptsSql=select * from crawl_attempt a inner join crawl_job b on a.crawlAttemptCrawlJobId=b.crawlJobId where (a.crawlAttemptStat in (0,3,4) and a.crawlAttemptNextCrawlTime<=now()) or (a.crawlAttemptStat=1 and a.crawlAttemptCrawlUpdateTime<date_sub(now(),interval 7200 second)) or (a.crawlAttemptStat=2 and a.crawlAttemptCrawlUpdateTime<date_sub(now(),interval 300 second)) or a.crawlAttemptProducerUpdateTime>a.crawlAttemptSendMqTime order by a.crawlAttemptNextCrawlTime asc,a.crawlAttemptCrawlUpdateTime asc